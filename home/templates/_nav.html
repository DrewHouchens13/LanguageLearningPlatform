{% load static %}
<header>
  <nav class="navbar">
    <div class="nav-brand">
      <h1>Language Learning Platform</h1>
      {# COLLEGE PROJECT: Version badge intentionally visible to demonstrate CD pipeline deployment #}
      {% if show_version %}<span class="version-badge" role="status" aria-label="Application version">{{ app_version }}</span>{% endif %}
    </div>
    <button class="nav-toggle" aria-label="Toggle navigation">
      <span></span>
      <span></span>
      <span></span>
    </button>
    <ul class="nav-menu">
      {% if user.is_authenticated %}
        <li class="nav-item nav-avatar">
          {% if user.profile %}
            <img src="{{ user.profile.get_avatar_thumbnail_url }}" alt="{{ user.username }}" class="nav-avatar-img">
          {% else %}
            <img src="https://www.gravatar.com/avatar/?s=40&d=identicon" alt="{{ user.username }}" class="nav-avatar-img">
          {% endif %}
        </li>
      {% endif %}
      <li class="nav-item">
        {% if user.is_authenticated %}
          <a href="{% if IS_DEVEDU %}../dashboard/{% else %}{% url 'dashboard' %}{% endif %}" class="nav-link {% if request.path == '/dashboard/' %}active{% endif %}">Home</a>
        {% else %}
          <a href="{% if IS_DEVEDU %}../{% else %}{% url 'landing' %}{% endif %}" class="nav-link {% if request.path == '/' %}active{% endif %}">Home</a>
        {% endif %}
      </li>
      <li class="nav-item">
        <a href="{% if IS_DEVEDU %}../lessons/{% else %}{% url 'lessons_list' %}{% endif %}" class="nav-link {% if '/lessons/' in request.path %}active{% endif %}">Lessons</a>
      </li>
      <li class="nav-item">
        <a href="{% if IS_DEVEDU %}../progress/{% else %}{% url 'progress' %}{% endif %}" class="nav-link {% if request.path == '/progress/' %}active{% endif %}">My Progress</a>
      </li>
      {% if user.is_authenticated %}
        {% if user.is_staff %}
        <li class="nav-item">
          <a href="{% if IS_DEVEDU %}../admin/{% else %}/admin/{% endif %}" class="nav-link admin-link">Admin</a>
        </li>
        {% endif %}
        <li class="nav-item">
          <a href="{% if IS_DEVEDU %}../account/{% else %}{% url 'account' %}{% endif %}" class="nav-link {% if request.path == '/account/' %}active{% endif %}">Account</a>
        </li>
        <li class="nav-item">
          <a href="{% if IS_DEVEDU %}../logout/{% else %}{% url 'logout' %}{% endif %}" class="nav-link nav-button">Logout</a>
        </li>
      {% else %}
        <li class="nav-item">
          <a href="{% if IS_DEVEDU %}../login/{% else %}{% url 'login' %}{% endif %}" class="nav-link">Login</a>
        </li>
        <li class="nav-item">
          <a href="{% if IS_DEVEDU %}../login/{% else %}{% url 'login' %}{% endif %}" class="nav-link nav-button">Sign Up</a>
        </li>
      {% endif %}
    </ul>
  </nav>
</header>